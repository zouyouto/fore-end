{"version":3,"file":"static/js/14.e50923ca55db2e513aae.js","sources":["webpack:///src/views/high/Generate.vue"],"sourcesContent":["<template>\r\n    <el-row>\r\n        <el-col :span=\"20\">\r\n            <el-row style=\"margin-bottom:6px; padding:0 0px;\">\r\n                <el-input v-model.trim=\"parent.modelName\" placeholder=\"model\" :maxlength=\"20\" size=\"mini\" class=\"inputwinth150\">\r\n                    <template slot=\"prepend\">模块名称</template>\r\n                </el-input>\r\n                <el-input v-model.trim=\"parent.className\" placeholder=\"Test\" :maxlength=\"20\" size=\"mini\" class=\"inputwinth150\">\r\n                    <template slot=\"prepend\">类名称</template>\r\n                </el-input>\r\n                <el-input v-model.trim=\"parent.classDesc\" placeholder=\"测试\" :maxlength=\"20\" size=\"mini\" class=\"inputwinth150\">\r\n                    <template slot=\"prepend\">类描述</template>\r\n                </el-input>\r\n                <el-input v-model.trim=\"parent.tableName\" placeholder=\"tb_Test\" :maxlength=\"20\" size=\"mini\" class=\"inputwinth150\">\r\n                    <template slot=\"prepend\">表名称</template>\r\n                </el-input>\r\n                <el-input v-model.trim=\"parent.authorName\" placeholder=\"QQ:511570155\" :maxlength=\"20\" size=\"mini\" class=\"inputwinth150\">\r\n                    <template slot=\"prepend\">作者</template>\r\n                </el-input>\r\n                <el-checkbox v-model=\"parent.isAdd\">新增</el-checkbox>\r\n                <el-checkbox v-model=\"parent.isUpdate\">编辑</el-checkbox>\r\n                <el-checkbox v-model=\"parent.isDel\">删除</el-checkbox>\r\n                <el-checkbox v-model=\"parent.isImport\">导入</el-checkbox>\r\n                <el-checkbox v-model=\"parent.isExport\">导出</el-checkbox>\r\n            </el-row>\r\n            <el-row>\r\n                <el-row style=\"padding-bottom:6px;\">\r\n                    <el-tag size=\"mini\">默认字段:主键[id],版本[version],启用[is_Enable],删除[is_Remove],</el-tag>\r\n                    <el-tag size=\"mini\">创建者[createId],修改者[updateId],创建时间[createTime],修改时间[updateTime]</el-tag>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-select v-model.trim=\"childDto.attrType\" placeholder=\"属性类型\" size=\"mini\" class=\"inputwinth150\">\r\n                        <el-option v-for=\"item in attrTypeList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.code\">\r\n                        </el-option>\r\n                    </el-select>\r\n                    <el-input v-model.number=\"childDto.attrLen\" placeholder=\"20\" :maxlength=\"4\" size=\"mini\" class=\"inputwinth150\">\r\n                        <template slot=\"prepend\">长度</template>\r\n                    </el-input>\r\n                    <el-input v-model.trim=\"childDto.attrName\" placeholder=\"Test\" :maxlength=\"20\" size=\"mini\" class=\"inputwinth150\">\r\n                        <template slot=\"prepend\">属性名称</template>\r\n                    </el-input>\r\n                    <el-input v-model.trim=\"childDto.attrRemark\" placeholder=\"测试\" :maxlength=\"20\" size=\"mini\" class=\"inputwinth150\">\r\n                        <template slot=\"prepend\">属性备注</template>\r\n                    </el-input>\r\n                    <el-input v-model=\"childDto.attrDefaultVal\" placeholder=\"0\" :maxlength=\"10\" size=\"mini\" class=\"inputwinth150\">\r\n                        <template slot=\"prepend\">默认值</template>\r\n                    </el-input>\r\n                    <el-button size=\"mini\" @click=\"addAttr\" icon=\"el-icon-plus\">新增属性</el-button>\r\n                </el-row>\r\n            </el-row>\r\n            <el-row>\r\n                <el-table :data=\"parent.childDto\" size=\"mini\" v-loading=\"loadingdata\" element-loading-text=\"正在加载中...\" border>\r\n                    <el-table-column type=\"index\" label=\"序号\" width=\"50\">\r\n                    </el-table-column>\r\n                    <el-table-column label=\"属性类型\" width=\"80\">\r\n                        <template slot-scope=\"prop\">\r\n                            <span v-html=\"global.getCodeByName(attrTypeList,prop.row.attrType)\"></span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"attrLen\" label=\"属性长度\" width=\"80\">\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"attrName\" label=\"属性名称\" width=\"100\">\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"attrRemark\" label=\"属性描述\">\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"attrDefaultVal\" label=\"默认值\" width=\"80\">\r\n                    </el-table-column>\r\n                    <el-table-column label=\"新增\" width=\"80\">\r\n                        <template slot-scope=\"prop\">\r\n                            <span v-html=\"prop.row.isAdd?'是':'否'\"></span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"编辑\" width=\"80\">\r\n                        <template slot-scope=\"prop\">\r\n                            <span v-html=\"prop.row.isUpdate?'是':'否'\"></span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"删除\" width=\"80\">\r\n                        <template slot-scope=\"prop\">\r\n                            <span v-html=\"prop.row.isDel?'是':'否'\"></span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"导入\" width=\"80\">\r\n                        <template slot-scope=\"prop\">\r\n                            <span v-html=\"prop.row.isImport?'是':'否'\"></span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"导出\" width=\"80\">\r\n                        <template slot-scope=\"prop\">\r\n                            <span v-html=\"prop.row.isExport?'是':'否'\"></span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"操作\" width=\"100\">\r\n                        <template slot-scope=\"prop\">\r\n                            <el-button @click=\"deleteRow(prop.$index,parent.childDto)\" type=\"text\">删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </el-row>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n            <el-button size=\"mini\" @click=\"cleanData\" icon=\"fa fa-eraser\"> 清 空</el-button>\r\n            <el-button size=\"mini\" @click=\"autoGenerateCode\" icon=\"el-icon-download\"> 生 成</el-button>\r\n        </el-col>\r\n    </el-row>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            moduleName: \"code-generate\",\r\n            loadingdata: false,\r\n            attrTypeList: [\r\n                { id: 1, code: \"String\", name: \"字符串\" },\r\n                { id: 2, code: \"int\", name: \"整形\" },\r\n                { id: 3, code: \"Long\", name: \"超长整形\" }\r\n            ],\r\n            parent: {\r\n                childDto: [],\r\n                modelName: \"\",//模块名称\r\n                className: \"\",//类名称\r\n                classDesc: \"\",//类描述\r\n                tableName: \"\",//表名\r\n                authorName: \"\",//作者名称\r\n                isAdd: false,\r\n                isUpdate: false,\r\n                isDel: false,\r\n                isImport: false,\r\n                isExport: false\r\n            },\r\n            childDto: {\r\n                attrType: \"\",\r\n                attrLen: \"\",\r\n                attrName: \"\",\r\n                attrRemark: \"\",\r\n                attrDefaultVal: \"\"\r\n            }\r\n        };\r\n    },\r\n    created() {},\r\n    methods: {\r\n        cleanData() {\r\n            this.parent = {\r\n                childDto: [],\r\n                classDesc: \"\",\r\n                className: \"\",\r\n                tableName: \"\",\r\n                authorName: \"\",\r\n                isAdd: false,\r\n                isUpdate: false,\r\n                isDel: false,\r\n                isImport: false,\r\n                isExport: false\r\n            };\r\n            this.childDto = {\r\n                attrType: \"\",\r\n                attrLen: \"\",\r\n                attrName: \"\",\r\n                attrRemark: \"\",\r\n                attrDefaultVal: \"\"\r\n            };\r\n        },\r\n        addAttr() {\r\n            var newDto = this.childDto;\r\n            var vaildArry = [\r\n                { key: \"id\", val: \"主键:id\" },\r\n                { key: \"version\", val: \"版本:version\" },\r\n                { key: \"is_Enable\", val: \"启用:is_Enable\" },\r\n                { key: \"is_Remove\", val: \"删除:is_Remove\" },\r\n                { key: \"createId\", val: \"创建者:createId\" },\r\n                { key: \"updateId\", val: \"修改者:updateId\" },\r\n                { key: \"createTime\", val: \"创建时间:createTime\" },\r\n                { key: \"updateTime\", val: \"修改时间:updateTime\" }\r\n            ];\r\n            var vaildMsg = \"\";\r\n            for (var item in vaildArry) {\r\n                if (vaildArry[item].key == newDto.attrName) {\r\n                    vaildMsg = vaildArry[item].val + \",系统默认存在！\";\r\n                    break;\r\n                }\r\n            }\r\n            if (!newDto.attrType) {\r\n                vaildMsg = \"请输入属性类型\";\r\n            }\r\n            if (!newDto.attrLen) {\r\n                this.childDto.attrLen = 20;\r\n            }\r\n            if (!newDto.attrName) {\r\n                vaildMsg = \"请输入属性名称\";\r\n            }\r\n            if (vaildMsg != \"\") {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: vaildMsg,\r\n                    type: \"warning\"\r\n                });\r\n                return;\r\n            }\r\n            this.parent.childDto.push(this.childDto);\r\n            this.childDto = {\r\n                attrType: \"\",\r\n                attrLen: \"\",\r\n                attrName: \"\",\r\n                attrRemark: \"\",\r\n                attrDefaultVal: \"\"\r\n            };\r\n        },\r\n        deleteRow(index, rows) {\r\n            rows.splice(index, 1);\r\n        },\r\n        autoGenerateCode() {\r\n            if (!this.parent.className) {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: \"请输入类名称\",\r\n                    type: \"warning\"\r\n                });\r\n                return;\r\n            }\r\n            if (!this.parent.tableName) {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: \"请输入表名称\",\r\n                    type: \"warning\"\r\n                });\r\n                return;\r\n            }\r\n            var getpath = this.moduleName + \"/auto\";\r\n            this.loadingdata = true;\r\n            this.$ajax.post(getpath, this.parent).then(\r\n                res => {\r\n                    this.cleanData();\r\n                    this.loadingdata = false;\r\n                    this.tableData = res.data;\r\n                },\r\n                error => {\r\n                    this.loadingdata = false;\r\n                }\r\n            );\r\n        }\r\n    }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/high/Generate.vue"],"mappings":"AA2GA","sourceRoot":""}